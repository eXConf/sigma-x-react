(this["webpackJsonpsigma-x-react"]=this["webpackJsonpsigma-x-react"]||[]).push([[0],{169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),u=a(6),l=a(16),o=a(62),i=a(1),m={numberOfPlayers:4,numberOfQuestions:5,priceMultiplier:10,uiWidth:600},p=a(9),b={players:[],currentQuestionNum:0,packageText:"",subjects:["\u0422\u0435\u043c\u0430 #1","\u0422\u0435\u043c\u0430 #2","\u0422\u0435\u043c\u0430 #3"],subjectNames:[]},f=Object(l.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLAYERS_NUMBER":return Object(i.a)(Object(i.a)({},e),{},{numberOfPlayers:t.payload});case"SET_QUESTIONS_NUMBER":return Object(i.a)(Object(i.a)({},e),{},{numberOfQuestions:t.payload});case"SET_PRICE_MULTIPLIER":return Object(i.a)(Object(i.a)({},e),{},{priceMultiplier:t.payload});case"SET_UI_GAME_WIDTH":return Object(i.a)(Object(i.a)({},e),{},{uiWidth:t.payload});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"RESET_GAME":return Object(i.a)(Object(i.a)({},b),{},{subjects:Object(p.a)(a.subjects),subjectNames:Object(p.a)(a.subjectNames),packageText:a.packageText});case"CREATE_PLAYER":case"SET_PLAYER_NAME":return Object(i.a)(Object(i.a)({},e),{},{players:a});case"SET_CURRENT_QUESTION_NUM":return Object(i.a)(Object(i.a)({},e),{},{currentQuestionNum:a});case"SET_PLAYER_ANSWER":return Object(i.a)(Object(i.a)({},e),{},{players:a});case"ADD_SUBJECT":return Object(i.a)(Object(i.a)({},e),{},{subjects:a});case"SET_PACKAGE_TEXT":return Object(i.a)(Object(i.a)({},e),{},{packageText:a});case"RESET_SUBJECTS":return Object(i.a)(Object(i.a)({},e),{},{subjects:Object(p.a)(b.subjects),subjectNames:[]});case"SET_SUBJECT_NAMES":return Object(i.a)({},a);case"SET_UI_GAME_WIDTH":case"SAVE_STATE_TO_LOCAL_STORAGE":return e;case"LOAD_STATE_TO_LOCAL_STORAGE":return Object(i.a)({},a.game);default:return e}}}),E=a(2),y=a(3),d=a(5),v=a(4),h=a(8),O=a(11),g=Object(O.d)(),j=function(e){return function(t){t({type:"SET_CURRENT_QUESTION_NUM",payload:e}),t(T())}},N=function(e){return function(t,a){var n,r,c=a().settings.numberOfPlayers;e/c<=120?(n=e,r=e/c):e/c>=130?(n=130*c,r=130):(n=e,r=e/c),document.documentElement.style.setProperty("--game-width","".concat(n,"px")),document.documentElement.style.setProperty("--player-score-width","".concat(r,"px")),t({type:"SET_UI_GAME_WIDTH",payload:n})}},S=!0,T=function(){return function(e,t){S&&(S=!1,setTimeout((function(){console.log("saved state to local storage"),localStorage.setItem("state",JSON.stringify(t())),S=!0}),1e3)),e({type:"SAVE_STATE_TO_LOCAL_STORAGE",payload:null})}},C=a(17),P=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"menu"},r.a.createElement("button",{className:"hide-menu-btn",onClick:function(){e.props.switchMenuState()}},r.a.createElement("i",{className:"fas fa-chevron-left"})),r.a.createElement(C.a,{to:"/",exact:!0,className:"menu-item",activeClassName:"menu-active"},r.a.createElement("div",null,"\u0418\u0433\u0440\u0430")),r.a.createElement(C.a,{to:"/newgame",className:"menu-item",activeClassName:"menu-active"},r.a.createElement("div",null,"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430")),r.a.createElement(C.a,{to:"/subjects",className:"menu-item",activeClassName:"menu-active"},r.a.createElement("div",null,"\u0422\u0435\u043c\u044b \u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b")),r.a.createElement(C.a,{to:"/graph",className:"menu-item",activeClassName:"menu-active"},r.a.createElement("div",null,"\u0413\u0440\u0430\u0444\u0438\u043a")),r.a.createElement(C.a,{to:"/theme",className:"menu-item",activeClassName:"menu-active"},r.a.createElement("div",null,"\u0426\u0432\u0435\u0442\u0430")),r.a.createElement(C.a,{to:"/about",className:"menu-item",activeClassName:"menu-active"},r.a.createElement("div",null,"?")))}}]),a}(r.a.Component),k=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:this.props.numberOfPlayers+1,className:"subject"},this.props.subjectName)))}}]),a}(r.a.Component),_=Object(u.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers}}),{})(k),A=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("td",{className:"price"},this.props.price)}}]),a}(r.a.Component),w=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderPlayerScoreCell=function(){var t=e.props,a=t.id,n=t.numberOfPlayers;return Object(p.a)(Array(n)).map((function(t,n){return r.a.createElement("td",{className:"player-score",key:"".concat(a,".").concat(n)},e.getPlayerScore({player:n,questionID:a}))}))},e.getPlayerScore=function(t){var a=t.player,n=t.questionID,r=e.props.players;if(r[a])return r[a].answers[n]},e.isActive=function(){return e.props.currentQuestionNum===e.props.id?"active":""},e.onClick=function(){e.props.setCurrentQuestionNum(e.props.id)},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",{onClick:function(){return e.onClick()},className:"question ".concat(this.isActive()," q").concat(this.props.id)},r.a.createElement(A,{price:this.props.price}),this.renderPlayerScoreCell())}}]),a}(r.a.Component),Q=Object(u.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers,players:e.game.players,currentQuestionNum:e.game.currentQuestionNum}}),{setCurrentQuestionNum:j})(w),x=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderQuestions=function(){var t=e.props,a=t.subjectID,n=t.numberOfQuestions,c=t.priceMultiplier;return Object(p.a)(Array(e.props.numberOfQuestions)).map((function(e,t){var s=a*n+t,u=(t+1)*c;return r.a.createElement(Q,{key:s,id:s,price:u})}))},e.renderSubject=function(){return r.a.createElement(_,{subjectName:e.props.subjectName,subjectID:e.props.subjectID})},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderSubject(),this.renderQuestions())}}]),a}(r.a.Component),I=Object(u.b)((function(e){return{numberOfQuestions:e.settings.numberOfQuestions,priceMultiplier:e.settings.priceMultiplier}}),{})(x),M=function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.setAttribute("id","dummy"),document.getElementById("dummy").value=e,t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)},R=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderPlayerResults=function(t){var a=e.calcPlayerResults(t);if(!a)return r.a.createElement(r.a.Fragment,null,"0 ",r.a.createElement("br",null),"[+0/-0]");var n=a.sum,c=a.correct,s=a.incorrect;return r.a.createElement(r.a.Fragment,null,n," ",r.a.createElement("br",null),"[+".concat(c,"/-").concat(s,"]"))},e.calcPlayerResults=function(t){if(!e.props.players[t])return null;var a=e.props.players[t].answers;return 0===a.length?null:{sum:a.reduce((function(e,t){return e+t})),correct:a.filter((function(e){return e>0})).length,incorrect:a.filter((function(e){return e<0})).length}},e.getAllPlayersResults=function(){var t=[];return console.log(e.props.players.length),e.props.players.forEach((function(a,n){var r=e.calcPlayerResults(n),c=e.props.players[n].name;if(r){var s=r.sum,u=r.correct,l=r.incorrect;t.push("".concat(c,": ").concat(s," [+").concat(u,"/-").concat(l,"]"))}else t.push("".concat(c,": 0 [+0/-0]"))})),t},e.renderPlayerSum=function(){return Object(p.a)(Array(e.props.numberOfPlayers)).map((function(t,a){return r.a.createElement("td",{key:"p".concat(a),className:"player-sum"},e.renderPlayerResults(a))}))},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:this.props.numberOfPlayers+1,className:"divider"})),r.a.createElement("tr",null,r.a.createElement("td",{className:"sigma",title:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0447\u0451\u0442 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",onClick:function(){var t=e.getAllPlayersResults().join("\r\n");M(t)}},"\u03a3"),this.renderPlayerSum()))}}]),a}(r.a.Component),D=Object(u.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers,players:e.game.players}}),{})(R),L=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderPlayerName=function(){var t=e.props,a=t.playerID,n=t.players;return n[a]?n[a].name:"\u0418\u0433\u0440\u043e\u043a ".concat(a+1)},e.renderNameInput=function(){return r.a.createElement("input",{className:"player-name",size:"10",type:"text",value:e.renderPlayerName(),onChange:function(t){t.preventDefault(),e.setState({name:t.target.value}),e.props.setPlayerName({name:t.target.value,id:e.props.playerID})},onKeyPress:function(e){"Enter"===e.key&&e.target.blur()}})},e.renderPlayerScoreButton=function(t){return r.a.createElement("div",{className:"player-button ".concat(t),onClick:function(){var a=(e.props.currentQuestionNum%e.props.numberOfQuestions+1)*e.props.priceMultiplier;e.props.setPlayerAnswer({playerID:e.props.playerID,questionID:e.props.currentQuestionNum,score:"plus"===t?a:-a})}},r.a.createElement("i",{className:"fas fa-".concat(t,"-square")}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"player-control"},this.renderPlayerScoreButton("plus"),this.renderNameInput(),this.renderPlayerScoreButton("minus"))}}]),a}(r.a.Component),U=Object(u.b)((function(e){return{players:e.game.players,currentQuestionNum:e.game.currentQuestionNum,numberOfQuestions:e.settings.numberOfQuestions,priceMultiplier:e.settings.priceMultiplier}}),{setPlayerName:function(e){var t=e.name,a=e.id;return function(e,n){var r=n().game.players;r[a].name=t,e({type:"SET_PLAYER_NAME",payload:Object(p.a)(r)}),e(T())}},setPlayerAnswer:function(e){var t=e.playerID,a=e.questionID,n=e.score;return function(e,r){var c=r().game.players,s=c[t].answers[a];c[t].answers[a]=n===s?null:n,e({type:"SET_PLAYER_ANSWER",payload:Object(p.a)(c)}),e(T())}}})(L),G=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderPlayerControls=function(){return Object(p.a)(Array(e.props.numberOfPlayers)).map((function(e,t){return r.a.createElement("td",{key:"pc-".concat(t)},r.a.createElement(U,{playerID:t}))}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",{className:"controls-block"},r.a.createElement("td",null),this.renderPlayerControls())}}]),a}(r.a.Component),W=Object(u.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers}}),{})(G),q=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).scrollToCurrentQuestion=function(){document.querySelector(".q".concat(e.props.currentQuestionNum)).scrollIntoView({block:"center",behavior:"smooth"})},e.onNextClicked=function(){var t=e.props,a=t.setCurrentQuestionNum,n=t.currentQuestionNum,r=t.numberOfSubjects,c=t.numberOfQuestions,s=t.addSubject;r*c-n<=2&&s(),a(n+1),e.scrollToCurrentQuestion()},e.onPrevClicked=function(){0!==e.props.currentQuestionNum&&(e.props.setCurrentQuestionNum(e.props.currentQuestionNum-1),e.scrollToCurrentQuestion())},e.getCurrentNav=function(){var t=e.props,a=t.currentQuestionNum,n=t.numberOfQuestions,r=Math.floor(a/n)+1,c=a%n+1;return"".concat(r,".").concat(c)},e.getCurrentText=function(){var t=e.props,a=t.subjects,n=t.currentQuestionNum,r=t.numberOfQuestions,c=t.priceMultiplier,s=Math.floor(n/r),u=a[s],l=(n%r+1)*c;return"\u0422\u0435\u043c\u0430 #".concat(s+1,": ").concat(u,", \u0432\u043e\u043f\u0440\u043e\u0441 \u0437\u0430 ").concat(l)},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:this.props.numberOfPlayers+1},r.a.createElement("div",{className:"navigation-block"},r.a.createElement("button",{onClick:function(){return e.onPrevClicked()},className:"nav-btn nav-prev"},r.a.createElement("i",{className:"fas fa-chevron-left"})),r.a.createElement("button",{className:"nav-btn nav-current",onClick:function(){var t=e.getCurrentText();window.electron?window.electron.bridge.sendToChat(t):M(t)}},this.getCurrentNav()),r.a.createElement("button",{onClick:function(){return e.onNextClicked()},className:"nav-btn nav-next"},r.a.createElement("i",{className:"fas fa-chevron-right"})))))}}]),a}(r.a.Component),B=Object(u.b)((function(e){return{currentQuestionNum:e.game.currentQuestionNum,numberOfPlayers:e.settings.numberOfPlayers,numberOfQuestions:e.settings.numberOfQuestions,numberOfSubjects:e.game.subjects.length,subjects:e.game.subjects,priceMultiplier:e.settings.priceMultiplier}}),{setCurrentQuestionNum:j,addSubject:function(){return function(e,t){var a=Object(p.a)(t().game.subjects),n=a.length+1,r=t().game.subjectNames[n-1]||"\u0422\u0435\u043c\u0430 #".concat(n);a.push(r),e({type:"ADD_SUBJECT",payload:Object(p.a)(a)}),e(T())}}})(q),F=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={active:0},e.renderPackageText=function(){return e.props.packageText.split("\n").map((function(t,a){return t&&"\r"!==t&&" "!==t?r.a.createElement(r.a.Fragment,{key:"package-text-".concat(a)},r.a.createElement("div",{className:"package-el ".concat(a===e.state.active?"active":""),onClick:function(){return e.setState({active:a})}},t),r.a.createElement("div",{className:"package-el"},"\xa0")):null}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"package-container"},r.a.createElement("div",{className:"package"},this.renderPackageText()))}}]),a}(r.a.Component),J=Object(u.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers,packageText:e.game.packageText}}),{})(F),Y=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderSubjectBlocks=function(){return e.props.subjects.map((function(e,t){return r.a.createElement(I,{subjectName:e,key:t,subjectID:t})}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){0===this.props.players.length&&this.props.createPlayers()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"scrollable"},r.a.createElement("table",{className:"scores-block"},r.a.createElement("tbody",null,this.renderSubjectBlocks()))),r.a.createElement("table",{className:"scores-block"},r.a.createElement("tbody",null,r.a.createElement(D,null),r.a.createElement(W,null),r.a.createElement(B,null))),r.a.createElement(J,null)))}}]),a}(r.a.Component),z=Object(u.b)((function(e){return{currentQuestionNum:e.game.currentQuestionNum,subjects:e.game.subjects,subjectNames:e.game.subjectNames,numberOfPlayers:e.settings.numberOfPlayers,players:e.game.players}}),{createPlayers:function(){return function(e,t){for(var a=t().settings.numberOfPlayers,n=[],r=0;r<a;r++)n.push({name:"\u0418\u0433\u0440\u043e\u043a ".concat(r),team:"",answers:[]});e({type:"CREATE_PLAYER",payload:[].concat(n)})}}})(Y),V=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={players:4,questions:5,multiplier:10,resetSubjects:!1},e.onSubmitForm=function(t){var a=e.state.resetSubjects;t.preventDefault(),e.props.setPlayersNumber(e.state.players),e.props.setQuestionsNumber(e.state.questions),e.props.setPriceMultiplier(e.state.multiplier),e.props.resetGame({resetPackage:a}),e.props.setUIGameWidth(document.body.offsetWidth)},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"secondary-container"},r.a.createElement("div",{className:"new-game"},r.a.createElement("form",{name:"new-game",id:"new-game",onSubmit:this.onSubmitForm},r.a.createElement("h2",null,"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043d\u043e\u0432\u043e\u0439 \u0438\u0433\u0440\u044b"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"players-num"},"\u0427\u0438\u0441\u043b\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432: "),r.a.createElement("select",{value:this.state.players,onChange:function(t){return e.setState({players:parseInt(t.target.value)})},id:"players-num"},r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"questions-num"},"\u0427\u0438\u0441\u043b\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0442\u0435\u043c\u0435: "),r.a.createElement("select",{value:this.state.questions,onChange:function(t){return e.setState({questions:parseInt(t.target.value)})},id:"questions-num"},r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"),r.a.createElement("option",{value:"9"},"9"),r.a.createElement("option",{value:"10"},"10"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"multiplier"},"\u041c\u0443\u043b\u044c\u0442\u0438\u043f\u043b\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430: "),r.a.createElement("select",{value:this.state.multiplier,onChange:function(t){return e.setState({multiplier:parseInt(t.target.value)})},id:"multiplier"},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"100"},"100"))),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.setState({resetSubjects:t.target.checked})},id:"reset-subjects"}),r.a.createElement("label",{htmlFor:"reset-subjects"}," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0442\u0435\u043c \u0438 \u0442\u0435\u043a\u0441\u0442 \u043f\u0430\u043a\u0435\u0442\u0430")),r.a.createElement("button",{type:"submit"},"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"))))}}]),a}(r.a.Component),X=Object(u.b)(null,{setPlayersNumber:function(e){return function(t){t({type:"SET_PLAYERS_NUMBER",payload:e})}},setQuestionsNumber:function(e){return function(t){t({type:"SET_QUESTIONS_NUMBER",payload:e})}},setPriceMultiplier:function(e){return{type:"SET_PRICE_MULTIPLIER",payload:e}},resetGame:function(e){var t=e.resetPackage;return function(e,a){var n=a().game;t&&(n.subjects=["\u0422\u0435\u043c\u0430 #1","\u0422\u0435\u043c\u0430 #2","\u0422\u0435\u043c\u0430 #3"],n.subjectNames=[],n.packageText=""),e({type:"RESET_GAME",payload:n}),g.push("/"),e(T())}},setUIGameWidth:N})(V),H=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={subjects:"",packageText:""},e.onSubjectsListChange=function(t){var a=t.target.value;e.setState({subjects:a});var n=a.split("\n");e.props.setSubjectNames(n)},e.onPackageTextChange=function(t){var a=t.target.value;e.setState({packageText:a}),a&&e.props.setPackageText(a)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.subjects.join("\n"),t=this.props.packageText;this.setState({subjects:e,packageText:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"secondary-container"},r.a.createElement("div",{className:"subjects-list"},r.a.createElement("h2",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u043c"),r.a.createElement("textarea",{placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u043c (\u043a\u0430\u0436\u0434\u0430\u044f \u0442\u0435\u043c\u0430 \u0441 \u043d\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438). \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u0438 \u0431\u0443\u0434\u0443\u0449\u0438\u0445 \u0442\u0435\u043c \u0432 \u0438\u0433\u0440\u0435 \u043e\u0431\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438",onChange:this.onSubjectsListChange,value:this.state.subjects}),r.a.createElement("h2",null,"\u0422\u0435\u043a\u0441\u0442 \u043f\u0430\u043a\u0435\u0442\u0430"),r.a.createElement("textarea",{placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043f\u0430\u043a\u0435\u0442\u0430 \u0441\u044e\u0434\u0430. \u0415\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \u0438\u0433\u0440\u044b",onChange:this.onPackageTextChange,value:this.state.packageText})))}}]),a}(r.a.Component),K=Object(u.b)((function(e){return{subjects:e.game.subjectNames,packageText:e.game.packageText}}),{setSubjectNames:function(e){return function(t,a){var n=Object(i.a)({},a().game);n.subjectNames=Object(p.a)(e),n.subjects.map((function(e,t){return n.subjects[t]=n.subjectNames[t]||"\u0422\u0435\u043c\u0430 #".concat(t+1)})),t({type:"SET_SUBJECT_NAMES",payload:n}),t(T())}},setPackageText:function(e){return function(t,a){t({type:"SET_PACKAGE_TEXT",payload:e}),t(T())}}})(H),Z=a(63),$=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).graphColors=["#92e084","#e08492","#86a2e3","#c287e6","#e0aa84","#83cae0","#c7e07a","#52e3c1","#e0b051","#e6d779"],e.graphOptions={maintainAspectRatio:!0,scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"\u041d\u0430\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043e\u0447\u043a\u0438",fontSize:16}}]},legend:{labels:{fontSize:16}},animation:!1,layout:{padding:1}},e.graphPlugins=[{beforeDraw:function(e,t){var a=e.chart.ctx;a.fillStyle="white",a.fillRect(0,0,1920,1080)}}],e.getDatasets=function(){for(var t=e.props,a=t.players,n=t.maxQuestions,r=[],c=0;c<a.length;c++){var s={};s.label=a[c].name,s.backgroundColor=e.graphColors[c],s.borderColor=e.graphColors[c],s.fill=!1;var u=[];u.push(0);for(var l=1;l<n+2;l++){var o=a[c].answers[l-1];void 0===o?o=u[l-1]:o+=u[l-1],u.push(o)}s.data=u,r.push(Object(i.a)({},s))}return r},e.getLabels=function(){for(var t=[],a=0;a<e.props.maxQuestions+2;a++)t.push(a);return t},e}return Object(y.a)(a,[{key:"render",value:function(){return this.getDatasets(),r.a.createElement("div",{className:"secondary-container"},r.a.createElement("div",{className:"graph",id:"graph"},r.a.createElement("h2",null,"\u0413\u0440\u0430\u0444\u0438\u043a"),r.a.createElement(Z.Line,{data:{labels:this.getLabels(),datasets:this.getDatasets()},width:this.props.uiWidth-85,redraw:!0,height:200,options:this.graphOptions,plugins:this.graphPlugins})))}}]),a}(r.a.Component),ee=Object(u.b)((function(e){return{players:e.game.players,maxQuestions:e.game.subjects.length*e.settings.numberOfQuestions,uiWidth:e.settings.uiWidth}}),{})($),te=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={menuEnabled:!0},e.onPageResize=function(){e.props.setUIGameWidth(document.body.offsetWidth)},e.switchMenuState=function(){e.setState({menuEnabled:!e.state.menuEnabled})},e.renderMenuSwitcher=function(){if(!e.state.menuEnabled)return r.a.createElement("div",{className:"menu-switcher",onClick:function(){e.switchMenuState()}},r.a.createElement("i",{className:"fas fa-chevron-right"}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=document.body.offsetWidth;this.setState({menuEnabled:!0}),this.props.setUIGameWidth(e),window.addEventListener("resize",this.onPageResize),this.props.loadStateFromLocalStorage()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(h.b,{history:g},!0===this.state.menuEnabled?r.a.createElement("div",{className:"menu-container"},r.a.createElement(P,{switchMenuState:this.switchMenuState})):this.renderMenuSwitcher(),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0},r.a.createElement(z,{switchMenuState:this.switchMenuState,menuEnabled:this.state.menuEnabled})),r.a.createElement(h.a,{path:"/newgame"},r.a.createElement(X,null)),r.a.createElement(h.a,{path:"/subjects"},r.a.createElement(K,null)),r.a.createElement(h.a,{path:"/graph"},r.a.createElement(ee,null)),r.a.createElement(h.a,{path:"/theme"}),r.a.createElement(h.a,{path:"/about"}))))}}]),a}(r.a.Component),ae=Object(u.b)(null,{setUIGameWidth:N,loadStateFromLocalStorage:function(){return function(e,t){var a=JSON.parse(localStorage.getItem("state"));e(a?{type:"LOAD_STATE_TO_LOCAL_STORAGE",payload:a}:{type:"LOAD_STATE_TO_LOCAL_STORAGE",payload:t()})}}})(te),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,re=Object(l.e)(f,ne(Object(l.a)(o.a)));s.a.render(r.a.createElement(u.a,{store:re},r.a.createElement(ae,null)),document.querySelector("#root"))},64:function(e,t,a){e.exports=a(169)}},[[64,1,2]]]);
//# sourceMappingURL=main.233c4129.chunk.js.map