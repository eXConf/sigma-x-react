(this["webpackJsonpsigma-x-react"]=this["webpackJsonpsigma-x-react"]||[]).push([[0],{16:function(e,t,n){e.exports=n(27)},27:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),u=n.n(c),s=n(6),l=n(8),o=n(15),i=n(5),m={numberOfPlayers:4,numberOfQuestions:5,priceMultiplier:10},p={players:[],currentQuestionNum:0,subjects:["\u0422\u0435\u043c\u0430 #1","\u0422\u0435\u043c\u0430 #2","\u0422\u0435\u043c\u0430 #3","\u0422\u0435\u043c\u0430 4","\u0422\u0435\u043c\u0430 5"],subjectNames:[]},b=Object(l.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLAYERS_NUMBER":return Object(i.a)(Object(i.a)({},e),{},{numberOfPlayers:t.payload});case"SET_QUESTIONS_NUMBER":return Object(i.a)(Object(i.a)({},e),{},{numberOfQuestions:t.payload});case"SET_PRICE_MULTIPLIER":return Object(i.a)(Object(i.a)({},e),{},{priceMultiplier:t.payload});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"CREATE_PLAYER":case"SET_PLAYER_NAME":return Object(i.a)(Object(i.a)({},e),{},{players:n});case"SET_CURRENT_QUESTION_NUM":return Object(i.a)(Object(i.a)({},e),{},{currentQuestionNum:n});case"SET_PLAYER_ANSWER":return Object(i.a)(Object(i.a)({},e),{},{players:n});case"ADD_SUBJECT":return console.log(Object(i.a)(Object(i.a)({},e),{},{subjects:n})),Object(i.a)(Object(i.a)({},e),{},{subjects:n});default:return e}}}),f=n(1),y=n(2),O=n(4),j=n(3),E=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("button",{className:"menu-item"},"mItem"))}}]),n}(a.a.Component),d=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"menu"},a.a.createElement("button",{className:"hide-menu-btn",onClick:function(){e.props.switchMenuState()}},a.a.createElement("i",{className:"fas fa-chevron-left"})),a.a.createElement(E,null),a.a.createElement(E,null),a.a.createElement(E,null))}}]),n}(a.a.Component),v=n(7),h=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("tr",null,a.a.createElement("td",{colSpan:this.props.numberOfPlayers+1,className:"subject"},this.props.subjectName)))}}]),n}(a.a.Component),N=Object(s.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers}}),{})(h),g=function(e){return{type:"SET_CURRENT_QUESTION_NUM",payload:e}},S=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return a.a.createElement("td",{className:"price"},this.props.price)}}]),n}(a.a.Component),P=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).renderPlayerScoreCell=function(){var t=e.props,n=t.id,r=t.numberOfPlayers;return Object(v.a)(Array(r)).map((function(t,r){return a.a.createElement("td",{className:"player-score",key:"".concat(n,".").concat(r)},e.getPlayerScore({player:r,questionID:n}))}))},e.getPlayerScore=function(t){var n=t.player,r=t.questionID,a=e.props.players;if(a[n])return a[n].answers[r]},e.isActive=function(){return e.props.currentQuestionNum===e.props.id?"active":""},e.onClick=function(){e.props.setCurrentQuestionNum(e.props.id)},e}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("tr",{onClick:function(){return e.onClick()},className:"question ".concat(this.isActive()," q").concat(this.props.id)},a.a.createElement(S,{price:this.props.price}),this.renderPlayerScoreCell())}}]),n}(a.a.Component),C=Object(s.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers,players:e.game.players,currentQuestionNum:e.game.currentQuestionNum}}),{setCurrentQuestionNum:g})(P),Q=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).renderQuestions=function(){var t=e.props,n=t.subjectID,r=t.numberOfQuestions,c=t.priceMultiplier;return Object(v.a)(Array(e.props.numberOfQuestions)).map((function(e,t){var u=n*r+t,s=(t+1)*c;return a.a.createElement(C,{key:u,id:u,price:s})}))},e.renderSubject=function(){return a.a.createElement(N,{subjectName:e.props.subjectName,subjectID:e.props.subjectID})},e}return Object(y.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.renderSubject(),this.renderQuestions())}}]),n}(a.a.Component),k=Object(s.b)((function(e){return{numberOfQuestions:e.settings.numberOfQuestions,priceMultiplier:e.settings.priceMultiplier}}),{})(Q),w=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).calcPlayerSum=function(t){if(!e.props.players[t])return 0;var n=e.props.players[t].answers;return 0===n.length?0:n.reduce((function(e,t){return e+t}))||0},e.renderPlayerSum=function(){return Object(v.a)(Array(e.props.numberOfPlayers)).map((function(t,n){return a.a.createElement("td",{key:"p".concat(n),className:"player-sum"},e.calcPlayerSum(n))}))},e}return Object(y.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("tr",null,a.a.createElement("td",{colSpan:this.props.numberOfPlayers+1,className:"divider"})),a.a.createElement("tr",null,a.a.createElement("td",{className:"sigma"},"\u03a3"),this.renderPlayerSum()))}}]),n}(a.a.Component),A=Object(s.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers,players:e.game.players}}),{})(w),_=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).state={name:"\u0418\u0433\u0440\u043e\u043a ".concat(e.props.playerID+1)},e.renderNameInput=function(){return a.a.createElement("input",{className:"player-name",size:"10",type:"text",value:e.state.name,onChange:function(t){t.preventDefault(),e.setState({name:t.target.value}),e.props.setPlayerName({name:t.target.value,id:e.props.playerID})},onKeyPress:function(e){"Enter"===e.key&&e.target.blur()}})},e.renderPlayerScoreButton=function(t){return a.a.createElement("div",{className:"player-button ".concat(t),onClick:function(){var n=(e.props.currentQuestionNum%e.props.numberOfQuestions+1)*e.props.priceMultiplier;e.props.setPlayerAnswer({playerID:e.props.playerID,questionID:e.props.currentQuestionNum,score:"plus"===t?n:-n})}},a.a.createElement("i",{className:"fas fa-".concat(t,"-square")}))},e}return Object(y.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"player-control"},this.renderPlayerScoreButton("plus"),this.renderNameInput(),this.renderPlayerScoreButton("minus"))}}]),n}(a.a.Component),M=Object(s.b)((function(e){return{players:e.game.players,currentQuestionNum:e.game.currentQuestionNum,numberOfQuestions:e.settings.numberOfQuestions,priceMultiplier:e.settings.priceMultiplier}}),{setPlayerName:function(e){var t=e.name,n=e.id;return function(e,r){var a=r().game.players;a[n].name=t,e({type:"SET_PLAYER_NAME",payload:Object(i.a)({},a)})}},setPlayerAnswer:function(e){var t=e.playerID,n=e.questionID,r=e.score;return function(e,a){var c=a().game.players,u=c[t].answers[n];c[t].answers[n]=r===u?null:r,e({type:"SET_PLAYER_ANSWER",payload:Object(i.a)({},c)})}}})(_),I=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).renderPlayerControls=function(){return Object(v.a)(Array(e.props.numberOfPlayers)).map((function(e,t){return a.a.createElement("td",{key:"pc-".concat(t)},a.a.createElement(M,{playerID:t}))}))},e}return Object(y.a)(n,[{key:"render",value:function(){return a.a.createElement("tr",{className:"controls-block"},a.a.createElement("td",null),this.renderPlayerControls())}}]),n}(a.a.Component),T=Object(s.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers}}),{})(I),D=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).scrollToCurrentQuestion=function(){document.querySelector(".q".concat(e.props.currentQuestionNum)).scrollIntoView({block:"center",behavior:"smooth"})},e.onNextClicked=function(){var t=e.props,n=t.setCurrentQuestionNum,r=t.currentQuestionNum,a=t.numberOfSubjects,c=t.numberOfQuestions,u=t.addSubject;r+2===a*c&&u(),n(r+1),e.scrollToCurrentQuestion()},e.onPrevClicked=function(){0!==e.props.currentQuestionNum&&(e.props.setCurrentQuestionNum(e.props.currentQuestionNum-1),e.scrollToCurrentQuestion())},e.getCurrentNav=function(){var t=e.props,n=t.currentQuestionNum,r=t.numberOfQuestions,a=Math.floor(n/r)+1,c=n%r+1;return"".concat(a,".").concat(c)},e}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("tr",null,a.a.createElement("td",{colSpan:this.props.numberOfPlayers+1},a.a.createElement("div",{className:"navigation-block"},a.a.createElement("button",{onClick:function(){return e.onPrevClicked()},className:"nav-btn nav-prev"},a.a.createElement("i",{className:"fas fa-chevron-left"})),a.a.createElement("button",{className:"nav-btn nav-current"},this.getCurrentNav()),a.a.createElement("button",{onClick:function(){return e.onNextClicked()},className:"nav-btn nav-next"},a.a.createElement("i",{className:"fas fa-chevron-right"})))))}}]),n}(a.a.Component),R=Object(s.b)((function(e){return{currentQuestionNum:e.game.currentQuestionNum,numberOfPlayers:e.settings.numberOfPlayers,numberOfQuestions:e.settings.numberOfQuestions,numberOfSubjects:e.game.subjects.length}}),{setCurrentQuestionNum:g,addSubject:function(){return function(e,t){var n=t().game.subjects,r=n.length+1,a=t().game.subjectNames[r]||"\u0422\u0435\u043c\u0430 #".concat(r);n.push(a),e({type:"ADD_SUBJECT",payload:Object(v.a)(n)})}}})(D),U=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return a.a.createElement("tr",null,a.a.createElement("td",{colSpan:this.props.numberOfPlayers+1},a.a.createElement("textarea",{cols:"50",rows:"10",className:"package"})))}}]),n}(a.a.Component),q=Object(s.b)((function(e){return{numberOfPlayers:e.settings.numberOfPlayers}}),{})(U),L=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).renderSubjectBlocks=function(){return e.props.subjects.map((function(e,t){return a.a.createElement(k,{subjectName:e,key:t,subjectID:t})}))},e.renderMenuSwitcher=function(){if(!e.props.menuEnabled)return a.a.createElement("div",{className:"menu-switcher",onClick:function(){e.props.switchMenuState()}},a.a.createElement("i",{className:"fas fa-chevron-right"}))},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.createPlayers()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"main-container"},this.renderMenuSwitcher(),a.a.createElement("div",{className:"scrollable"},a.a.createElement("table",{className:"scores-block"},a.a.createElement("tbody",null,this.renderSubjectBlocks()))),a.a.createElement("table",{className:"scores-block"},a.a.createElement("tbody",null,a.a.createElement(A,null),a.a.createElement(T,null),a.a.createElement(R,null),a.a.createElement(q,null)))))}}]),n}(a.a.Component),B=Object(s.b)((function(e){return{currentQuestionNum:e.game.currentQuestionNum,subjects:e.game.subjects,subjectNames:e.game.subjectNames,numberOfPlayers:e.settings.numberOfPlayers}}),{createPlayers:function(){return function(e,t){for(var n=t().settings.numberOfPlayers,r=[],a=0;a<n;a++)r.push({name:"\u0418\u0433\u0440\u043e\u043a ".concat(a),team:"",answers:[]});e({type:"CREATE_PLAYER",payload:[].concat(r)})}}})(L),x=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={menuEnabled:!0},e.switchMenuState=function(){e.setState({menuEnabled:!e.state.menuEnabled})},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.setState({menuEnabled:!1})}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},!0===this.state.menuEnabled?a.a.createElement("div",{className:"menu-container"},a.a.createElement(d,{switchMenuState:this.switchMenuState})):null,a.a.createElement(B,{switchMenuState:this.switchMenuState,menuEnabled:this.state.menuEnabled}))}}]),n}(a.a.Component),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,F=Object(l.e)(b,Y(Object(l.a)(o.a)));u.a.render(a.a.createElement(s.a,{store:F},a.a.createElement(x,null)),document.querySelector("#root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.55e29bf0.chunk.js.map